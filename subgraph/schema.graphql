type Account @entity {
  id: ID!
  address: String!
  balance: BigInt!
  delegatedTo: Delegate!
}

type Delegate @entity {
  id: ID!
  address: String!
  votingPower: BigInt!
  delegators: [Account!]! @derivedFrom(field: "delegatedTo")
}

type DelegateChanged @entity {
  id: ID!
  delegator: String! # address
  fromDelegate: String!
  toDelegate: String!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: String!
}

type DelegateVotesChanged @entity {
  id: ID!
  delegate: String!
  previousBalance: BigInt!
  newBalance: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: String!
}

type Transfer @entity {
  id: ID!
  from: String!
  to: String!
  value: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: String!
}

# aggregate types
type DailyDelagate @entity {
  id: ID!
  date: Int!
  delegate: String!
  votingPower: BigInt!
}
